import asyncio
import edge_tts
import os

# Default voice controls
DEFAULT_RATE = "-5%"       # speed
DEFAULT_PITCH = "+3Hz"     # tone
DEFAULT_VOLUME = "+0%"

# Output folder name
OUTPUT_DIR = "malayalam_output"
OUTPUT_FILE = "scm2.wav"

# Ensure folder exists
os.makedirs(OUTPUT_DIR, exist_ok=True)
voices = {
    "malayalam.wav": (
    " A V SEVEN S C M SILK ‡¥∏‡¥™‡µç‡¥≤‡¥Ø‡µº ‡¥™‡µã‡µº‡¥ü‡µç‡¥ü‡¥≤‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µÅ ‡¥∏‡µç‡¥µ‡¥æ‡¥ó‡¥§‡¥Ç. "
    "‡¥à ‡¥µ‡µÄ‡¥°‡¥ø‡¥Ø‡µã‡¥Ø‡¥ø‡µΩ S C M SILK ‡¥∏‡¥™‡µç‡¥≤‡¥Ø‡µº ‡¥™‡µã‡µº‡¥ü‡µç‡¥ü‡¥≤‡¥ø‡µΩ ‡¥Ö‡¥™‡µã‡¥Ø‡¥ø‡¥®‡µç‡¥±‡µç‡¥Æ‡µÜ‡¥®‡µç‡¥±‡µç ‡¥é‡¥ô‡µç‡¥ô‡¥®‡µÜ ‡¥¨‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥æ‡¥Æ‡µÜ‡¥®‡µç‡¥®‡µç ‡¥∏‡µç‡¥±‡µç‡¥±‡µÜ‡¥™‡µç‡¥™‡µç ‡¥¨‡µà ‡¥∏‡µç‡¥±‡µç‡¥±‡µÜ‡¥™‡µç‡¥™‡¥æ‡¥Ø‡¥ø ‡¥µ‡¥ø‡¥∂‡¥¶‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ. "
    "‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç Google Chrome ‡¥§‡µÅ‡¥±‡¥ï‡µç‡¥ï‡µÅ‡¥ï. "
    "‡¥Ö‡¥°‡µç‡¥∞‡¥∏‡µç ‡¥¨‡¥æ‡¥±‡¥ø‡µΩ www. the S C M silk dot com ‡¥ü‡µà‡¥™‡µç‡¥™‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡µç Enter ‡¥Ö‡¥Æ‡µº‡¥§‡µç‡¥§‡µÅ‡¥ï. "
    "‡¥π‡µã‡¥Ç ‡¥™‡µá‡¥ú‡µç ‡¥§‡µÅ‡¥±‡¥ï‡µç‡¥ï‡µÅ‡¥Ç. "
    "Login Supplier Portal ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï. "
    "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ User name and  Password ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï, ‡¥§‡µÅ‡¥ü‡µº‡¥®‡µç‡¥®‡µç Login ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï. "
    "‡¥≤‡µã‡¥ó‡¥ø‡µª ‡¥ö‡µÜ‡¥Ø‡µç‡¥§ ‡¥∂‡µá‡¥∑‡¥Ç, ‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥ì‡¥™‡µç‡¥∑‡¥®‡µÅ‡¥ï‡¥≥‡µÅ‡¥Ç ‡¥á‡¥ü‡¥§‡µç ‡¥µ‡¥∂‡¥§‡µç‡¥§‡µç ‡¥ï‡¥æ‡¥£‡¥æ‡¥Ç. "
    "Appointment ‡¥ì‡¥™‡µç‡¥∑‡¥®‡¥ø‡µΩ ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï. "
    "Appointment Screen ‡¥§‡µÅ‡¥±‡¥ï‡µç‡¥ï‡µÅ‡¥Ç. "
    "Supplier Name ‡¥∏‡µç‡¥µ‡¥Ø‡¥Æ‡µá‡¥µ ‡¥™‡µç‡¥∞‡¥¶‡µº‡¥∂‡¥ø‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç. "
    "Visitor Name ‡¥´‡µÄ‡µΩ‡¥°‡¥ø‡µΩ ‡¥ì‡¥´‡µÄ‡¥∏‡¥ø‡µΩ ‡¥∏‡¥®‡µç‡¥¶‡µº‡¥∂‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥µ‡µç‡¥Ø‡¥ï‡µç‡¥§‡¥ø‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥™‡µá‡¥∞‡µç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï. "
    "Designation ‡¥´‡µÄ‡µΩ‡¥°‡¥ø‡µΩ ‡¥∏‡¥®‡µç‡¥¶‡µº‡¥∂‡¥ï‡µª ‡¥Ü‡¥∞‡µÜ‡¥Ø‡¥æ‡¥£‡µÅ ‡¥ï‡¥æ‡¥£‡¥æ‡µª ‡¥Ü‡¥ó‡µç‡¥∞‡¥π‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µç ‡¥é‡¥®‡µç‡¥®‡µç ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï. "
    "‡¥â‡¥¶‡¥æ‡¥π‡¥∞‡¥£‡¥§‡µç‡¥§‡¥ø‡¥®‡µç MD Sir, GM Sir, Manager, Employee, ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ Others. "
    "‡¥∏‡¥®‡µç‡¥¶‡µº‡¥∂‡¥ï‡¥®‡µç‡¥±‡µÜ Mobile Number ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï. "
    "Number of Persons Visit ‡¥é‡¥®‡µç‡¥®‡¥§‡¥ø‡µΩ ‡¥Æ‡µä‡¥§‡µç‡¥§‡¥Ç ‡¥∏‡¥®‡µç‡¥¶‡µº‡¥∂‡¥ï‡¥∞‡µÅ‡¥ü‡µÜ ‡¥é‡¥£‡µç‡¥£‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï. "
    "Visit Date ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï. "
    "Visit Time ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï, Morning ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ Afternoon. "
    "Comment Section ‡µΩ ‡¥∏‡¥®‡µç‡¥¶‡µº‡¥∂‡¥®‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥â‡¥¶‡µç‡¥¶‡µá‡¥∂‡µç‡¥Ø‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï. "
    "‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Ç ‡¥®‡µΩ‡¥ï‡¥ø‡¥Ø ‡¥∂‡µá‡¥∑‡¥Ç, Submit ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï. "
    "‡¥í‡¥∞‡µÅ Success Alert ‡¥™‡µç‡¥∞‡¥¶‡µº‡¥∂‡¥ø‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç. "
    "OK ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï. "
    "‡¥û‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ Management Team ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÜ ‡¥¨‡¥®‡µç‡¥ß‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥Ç. "
    "‡¥®‡¥®‡µç‡¥¶‡¥ø. ‡¥®‡¥≤‡µç‡¥≤‡µä‡¥∞‡µÅ ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç ‡¥Ü‡¥∂‡¥Ç‡¥∏‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ.",
    "ml-IN-SobhanaNeural",
    "-10%",
    "+3Hz"
    )
}

async def generate(filename, text, voice, rate, pitch):
    rate = rate or DEFAULT_RATE
    pitch = pitch or DEFAULT_PITCH
    output_path = os.path.join(OUTPUT_DIR, OUTPUT_FILE)

    print(f"üîä Generating {output_path} | rate={rate}, pitch={pitch}")

    communicate = edge_tts.Communicate(
        text=text,
        voice=voice,
        rate=rate,
        pitch=pitch,
        volume=DEFAULT_VOLUME
    )

    await communicate.save(output_path)

async def main():
    await asyncio.gather(
        *[generate(filename, *data) for filename, data in voices.items()]
    )

    print("\n All audio files saved inside malayalam_output folder!")

#  THIS MUST BE AT FILE ROOT LEVEL
if __name__ == "__main__":
    asyncio.run(main())
